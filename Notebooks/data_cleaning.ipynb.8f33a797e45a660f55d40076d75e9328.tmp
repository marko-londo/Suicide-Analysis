# Sorting total suicides per 100k by country in descending order

world_suicide_rates_total = world_suicides.copy()

world_suicide_rates_total = world_suicide_rates_total.drop(
    ["Sex", "Age", "GDP for Year ($)", "GDP per Capita ($)", "Generation"], axis=1
)
world_suicide_rates_total = (
    world_suicide_rates_total.groupby("Country")["Suicides per 100k"]
    .sum()
    .reset_index()
)
world_suicide_rates_total.sort_values(
    "Suicides per 100k", ascending=False, inplace=True
)

# Establishing upper and lower quantiles

qlow_total = world_suicide_rates_total["Suicides per 100k"].quantile(0.02)
qhigh_total = world_suicide_rates_total["Suicides per 100k"].quantile(1)
total_filtered = world_suicide_rates_total[
    (world_suicide_rates_total["Suicides per 100k"] >= qlow_total)
    & (world_suicide_rates_total["Suicides per 100k"] <= qhigh_total)
]

# Extracting top 10 and bottom 10 countries by suicides per 100k

top_10_world_suicides_rates = total_filtered.head(10)
bottom_10_world_suicides_rates = total_filtered.tail(10)